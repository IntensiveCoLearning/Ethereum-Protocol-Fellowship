---
timezone: Asia/Shanghai
---

# Cora

1. 自我介绍：大家好，我是 Cora，Web 前端工程师。对以太坊感兴趣，希望通过 EPF 残酷共学 学习到更多知识。
2. 你认为你会完成本次残酷学习吗？会的
3. TG 联系方式：@chenfangc

## Notes

<!-- Content_START -->

### 2025.02.06

✅ 查看[EPF 文档](https://epf.wiki/#/) 目录结构，看了 Start here 部分，填写问卷 https://forms.gle/7TqmryC217EPwgqr9

## **EPS Program Structure 学习笔记**

EPS（Extensible Protocol Specification）是一个**模块化、可扩展的协议标准**，旨在提升跨平台、跨应用的互操作性。该计划结构包括以下几个核心部分：

### **1. EPS 组成部分**

- **Core Specification（核心规范）**：定义 EPS 的基本结构、数据格式和交互方式。
- **Extensions（扩展）**：允许开发者在核心规范之上构建自定义功能，提高灵活性。
- **Reference Implementations（参考实现）**：提供可直接使用的代码示例，帮助开发者快速上手。
- **Developer Tools（开发者工具）**：支持协议开发、调试和集成，例如 SDK、API 文档等。

### **2. 贡献方式**

- **标准制定**：参与 EPS 规范的讨论和改进。
- **代码贡献**：向 EPS 的核心实现、SDK、工具库提交代码。
- **文档完善**：优化官方文档，提供更清晰的示例和指南。
- **社区支持**：在论坛或 GitHub 讨论区解答问题，帮助新成员入门。

### **3. 角色与责任**

- **Contributor（贡献者）**：负责代码提交、文档编写或技术支持。
- **Maintainer（维护者）**：管理代码仓库，审核 PR，确保项目健康发展。
- **Core Team（核心团队）**：制定 EPS 发展方向，主导重要决策。

---

## **明天的 TODO 计划**

**回顾 2024 年研究小组的课程**

### 2025.02.07

第 0 周视频内容没看懂，看了第 1 周视频也基本没看懂。
看了[Vitalik 30min 关于 Ethereum 介绍](https://www.youtube.com/watch?v=UihMqcj-cqc&ab_channel=EthereumFoundation)
总结内容如下：

### 1. 账户

以太坊有两种类型的账户：

- **外部拥有账户（EOA）**：由私钥控制，可发起交易。
- **合约账户**：由智能合约代码控制，通过消息调用激活。

### 2. 交易

EOA 可以发起交易，交易类型包括：

- **转账交易**：将以太币从一个账户转移到另一个账户。
- **合约交易**：部署新合约或与现有合约交互。

### 3. Gas 机制

- 以太坊交易需要支付 **Gas 费用**，以防止资源滥用。
- Gas 价格由交易发起者设置，矿工可选择处理哪些交易。

### 4. 共识机制

- 以太坊最初采用 **工作量证明（PoW）** 机制。
- 之后过渡到 **权益证明（PoS）**，提高效率和安全性。

### 5. 智能合约

- 以太坊的核心功能，支持在区块链上部署 **自执行代码**。
- 允许开发者构建 **去中心化应用（DApps）**，无需中介机构。

### 2025.02.08

看了第 2 周视频，看到一半。go 代码，有父哈希、状态路由、收据路由、数量、gas 限制逻辑。学不会，半放弃阶段，接着看了 Protocol Wiki 部分。内容如下：

## 以太坊协议的历史（Prehistory）

### 1. 以太坊的起源

以太坊的概念由 **Vitalik Buterin** 于 2013 年提出，目标是创建一个比比特币更具灵活性的区块链平台，支持 **智能合约（Smart Contracts）** 和 **去中心化应用（DApps）**。

- **白皮书发布**：Vitalik 撰写了以太坊白皮书，详细描述了平台的设计理念和技术架构。
- **社区讨论与改进**：经过多次反馈和迭代，最终形成了更完善的设计方案。

---

### 2. 早期开发阶段

2014 年，以太坊团队开始开发工作，并通过众筹（ICO）筹集资金。

- **核心开发**：
  - 设计 **以太坊虚拟机（EVM）**，使智能合约得以执行。
  - 采用 **账户模型**（不同于比特币的 UTXO 模型）。
  - 研究 **工作量证明（PoW）** 作为初始共识机制。

---

### 3. 测试网络的推出

在主网发布前，团队推出了多个 **测试网络（Testnets）**，用于发现和修复潜在问题。

- **Olympic**：用于压力测试网络性能和安全性。
- **Frontier**：以太坊的第一个正式可用版本，提供基本的智能合约功能。

---

### 4. 以太坊主网的发布

2015 年 7 月，以太坊主网 **Frontier** 正式上线，标志着以太坊进入实际应用阶段。

- 之后的协议升级：
  - **Homestead（2016）**：提高安全性，增强智能合约功能。
  - **Metropolis（Byzantium & Constantinople, 2017-2019）**：优化 gas 计算、隐私保护和扩展性。
  - **Istanbul（2019）**：提高 EVM 计算效率，降低部分操作的 gas 成本。
  - **Ethereum 2.0（Serenity）**：最终目标是从 PoW 过渡到 PoS，提高可扩展性。

---

### 5. 以太坊的持续发展

- **Layer 2 解决方案**（如 Rollups）正在推进扩展性提升。
- **以太坊 2.0** 逐步引入 **权益证明（PoS）** 以减少能耗。
- **DeFi、NFT 生态** 促使以太坊成为全球领先的智能合约平台。

以太坊从 2013 年的概念到 2015 年主网发布，再到今天的持续升级，已经成为区块链领域的重要基石，为去中心化金融（DeFi）、NFT 以及其他创新应用提供了强大的基础设施。

### 2025.02.09

### Execution Layer 执行层

执行层只专注于执行状态转换函数

执行层（EL）仅关注执行区块和更新状态，而 共识层（CL） 负责确定哪些区块被最终确认。EELS 通过形式化定义 STF，使得执行逻辑更加清晰、可验证，并与共识层解耦。

### 2025.02.10

### Consensus Layer 共识层

以太坊的共识层（Consensus Layer，CL）负责确保网络中所有节点对区块链状态达成一致。自以太坊从工作量证明（PoW）转向权益证明（PoS）以来，共识层的设计和实现发生了重大变化。

共识机制
以太坊目前采用权益证明（PoS）作为其共识机制。在 PoS 中，验证者（Validators）通过质押以太币（ETH）来获得提议和验证新区块的权利。这一机制提高了网络的能源效率，并增强了安全性。

验证者角色
验证者在以太坊共识层中扮演关键角色。他们的主要职责包括：

- 提议区块：验证者被随机选中提议新区块。
- 验证区块：其他验证者对提议的区块进行验证和投票，以确保其有效性。
- 参与共识：通过投票和签名，验证者共同维护网络的一致性和安全性。
  共识协议
  以太坊采用了特定的共识协议来协调验证者的活动。该协议定义了验证者如何提议、验证和最终确定区块的规则和流程。

共识层客户端
共识层客户端是实现以太坊共识协议的软件。不同的客户端可能在性能、编程语言和功能上有所差异，但它们都遵循相同的协议规范，以确保网络的互操作性。

### 2025.02.11

### Development 开发

包括计算机、数学、密码学、算法、编程、网络、分布式系统和区块链、安全、终端、shell 脚本和版本控制……
（学不完，看不懂 T.T……今天工作量大，没有看视频啊）

### 2025.02.12

### 以太坊和形式化验证

- 协议验证、智能合约验证

安全和活跃的保证是以太坊去中心化基础设施的核心。形式化验证在验证以下各项的正确性方面起着关键作用

### 2025.02.13

- week 2 视频观看完成，深入研究以太坊的执行层。深入探讨 Lightclient 的 EL 内部结构。
- 阅读了关于 EVM 的一些介绍。https://www.evm.codes/about

### 2025.02.14

观看 [Town Hall 的回放](https://youtu.be/7L1270CWjXw)

### 2025.02.17

- 区块链可以创造数字稀缺性，但它需要安全性来确保其完整性
- 分布式网络处理拜占庭容错 （BFT）
- 比特币首先用 PoW 解决了 BFT
- 以太坊转向权益证明，从用于 Sybil 保护的外生信号转变为系统中的内生信号
- 使用 BFT majority 确定链的状态
- 协议可以观察到拜占庭故障，并且可以削减 Stake
- LMD-GHOST 中总结的分叉选择规则
- 得益于 Casper，它确保了活跃度
- 提供更高的加密经济安全性

### 2025.02.18

[观看 Alex Stokes 的 CL 概述演](https://www.youtube.com/watch?v=FqKjWYt6yWk)

### 2025.02.19

[观看 week 4 内容](https://www.youtube.com/watch?v=PQVW5dJ8J0c)

### 2025.02.20

### 以太坊路线图

以太坊正在通过一系列升级，旨在提升其可扩展性、安全性和可持续性，以更好地服务现有用户并吸引潜在用户。以下是对这些升级的总结。

## 1. 合并（The Merge）

**概述**：
合并是指以太坊的原有执行层（主网）与新的权益证明共识层（信标链）的结合。此过程摒弃了高能耗的工作量证明机制，转而采用通过质押以太币来保护网络安全的权益证明机制。合并于 2022 年 9 月 15 日完成，这是实现以太坊愿景的重要一步。

**影响**：

- **能源效率**：合并大幅降低了以太坊网络的能源消耗。
- **安全性**：通过质押机制，提高了网络的安全性和去中心化程度。

## 2. 扩容（Scaling）

**概述**：
为了解决网络拥堵和高交易费用问题，以太坊正在实施多种扩容方案，主要包括卷叠（Rollups）和分片（Sharding）。

### 卷叠（Rollups）

- **现状**：卷叠技术已经在以太坊上实现，允许用户以更低的成本和更快的速度进行交易。
- **挑战**：目前，卷叠依赖于中心化的排序者，存在审查和安全风险。
- **目标**：通过去中心化排序者和证明者的责任，提升卷叠的安全性和去中心化程度。

### 分片（Sharding）

- **Proto-Danksharding**：这是分片技术的初步实现，计划作为 2024 年 3 月的 Cancun-Deneb（“Dencun”）网络升级的一部分上线。
- **完整 Danksharding**：由于依赖其他路线图项目的完成，完整的 Danksharding 可能需要数年时间才能实现。

## 3. 安全性提升

**概述**：
以太坊致力于通过多种升级来增强网络的安全性，防范潜在的攻击和审查。

### 关键升级

- **提议者-构建者分离（Proposer-Builder Separation，PBS）**：此机制将区块提议和构建的职责分离，防止质押集中化，增强网络的抗审查能力。
- **秘密领导者选举（Secret Leader Election，SLE）**：通过隐藏下一个区块提议者的身份，防止拒绝服务（DoS）攻击。
- **分布式验证者技术（Distributed Validator Technology，DVT）**：允许多个节点共同运行一个验证者，提高容错性和安全性。

**进展**：
这些安全性升级已进入高级研究阶段，规范的最终确定和原型的构建正在进行中。

## 4. 用户体验提升

**概述**：
以太坊正在通过多种方式改进用户体验，使其更加友好和安全。

### 关键举措

- **智能合约钱包**：提供更安全和可定制的资产管理方式。
- **EIP-4337**：该提案旨在无需对以太坊协议进行修改的情况下，实现账户抽象功能，已于 2023 年 3 月部署相关智能合约。
- **完全无状态性（Statelessness）**：减少节点需要存储的数据量，降低运行节点的门槛。

**进展**：
完全无状态性仍处于研究阶段，可能需要数年时间才能实现。在此过程中，将逐步实现数据到期等里程碑。

## 5. 面向未来的以太坊

**概述**：
以太坊正在为长期稳定性和可靠性奠定基础，确保其能够适应未来的需求。

### 关键领域

- **量子抗性**：随着量子计算的发展，传统的加密算法可能面临威胁。以太坊正在研究量子抗性技术，以确保网络的长期安全性。
- **协议简化**：通过简化协议，提高以太坊的效率和可维护性。

**进展**：
这些前瞻性的升级仍处于研究阶段，具体实现时间尚未确定。

## 总结

以太坊的路线图是一个动态的计划，旨在随着新技术和信息的出现不断演进。通过上述升级，以太坊致力于在保持去中心化的前提下，提升网络的可扩展性、安全性和可持续性，为全球用户提供更好的服务。

### 参考资料：

- [以太坊路线图](https://ethereum.org/zh/roadmap/)
- [合并](https://ethereum.org/zh/roadmap/merge/)
- [以太坊扩容](https://ethereum.org/zh/roadmap/scaling/)
- [更安全的以太坊](https://ethereum.org/zh/roadmap/security/)
- [提升用户体验](https://ethereum.org/zh/roadmap/user-experience/)
- [打造面向未来的以太坊](https://ethereum.org/zh/roadmap/future-proofing/)

### 2025.02.23

### 以太坊协议学习第六周

（目录好像有些变化，感觉一直停留在文字上，并没有研究代码，看了其他的老师的学习笔记，下周希望可以根据扩展链接中的项目去研究下代码）

## 1. 共识客户端的架构与职责

- 介绍了共识客户端的核心功能，包括 **区块验证、链选择、网络通信**。
- 重点理解其在 **维护链的一致性和安全性** 方面的作用。

## 2. 共识层与执行层的交互

- 详细分析了 **共识层如何通过 Engine API 与执行层通信**。
- 确保 **区块的有效性**，并 **维持以太坊网络的正常运行**。

## 3. 共识客户端的开发环境搭建

- 介绍了如何 **从源码构建共识客户端**，包括：
  - 环境配置
  - 依赖安装
  - 编译步骤
- 帮助开发者快速上手共识客户端的开发。

## 4. 测试与调试策略

- 介绍了常用的 **测试框架** 和 **调试工具**：
  - 如何编写和运行 **单元测试**，提升代码的可靠性。
  - **调试技巧**，帮助开发者快速定位问题。

## 5. 参与共识客户端的开源贡献

- 鼓励开发者 **参与开源项目**，并提供贡献指南：
  - 如何 **提交 Pull Request**。
  - **遵循代码规范** 和 **社区协作最佳实践**。

### 总结

本周学习帮助学员深入理解 **以太坊共识层的开发**，为未来贡献代码、研究共识机制奠定了坚实的基础。

### 2025.02.26

啊啊啊， 每天工作都很多，没时间看呐 555

### 2025.02.27

看了执行层的项目，要补 go 语言 T.T,学习成本好高……
https://github.com/ethereum/go-ethereum

### 2025.02.28

看了一些文章，项目真的看不懂……

### **中本聪关于“信任”的核心观点总结**

## **1. 第三方信任的弊端**

- 传统金融体系依赖可信第三方（如银行、支付机构）来处理交易，但这种模式带来高昂的成本、交易可逆性问题、欺诈风险以及中心化控制的弊端。
- 机构可能滥用权力，甚至限制个人的资金自由，如冻结账户、审查交易等。

## **2. 比特币的解决方案**

- 通过 **工作量证明（Proof of Work）** 和 **去中心化网络**，比特币消除了对第三方信任的需求，实现点对点电子现金系统。
- 交易一旦确认，无法篡改或撤销，确保不可逆性，从而降低欺诈风险。

## **3. 信任的转移与分布**

- 传统系统是“**信任机构**”，比特币则是“**信任代码和数学**”，依赖密码学和共识机制，而非单一实体。
- 用户无需信任任何中心化机构，而是信任公开透明的算法和分布式网络。

## **4. 去信任化的现实意义**

- 在全球范围内赋能个人，无需依赖政府或金融机构即可自由交易。
- 保护隐私，避免传统支付系统中的身份验证和资金监控。

## **总结**

比特币的核心创新在于 **用去中心化技术消除对第三方的信任依赖**，降低金融交易成本、提高安全性，并赋予个人更大的金融自主权。

### 2025.03.01

# 以太坊扩展性与分片发展

## 1. 以太坊可扩展性

以太坊的扩展性受到单链架构的限制，导致：

- **交易吞吐量低**（TPS 受限）
- **Gas 费用高**，影响用户体验

为了解决这一问题，以太坊采用 **Rollup（二层扩容方案）** 和 **分片（Sharding）**：

- **Rollup**：将计算和存储迁移到链下，仅在主链提交摘要，提高效率。
- **分片**：通过拆分网络负载，提高整体吞吐能力。

## 2. 分片历史与未来方向

以太坊最初计划采用 **执行分片（Execution Sharding）**，让不同分片独立处理智能合约。但随着 Rollup 发展，以太坊改为 **数据分片（Data Sharding）**，支持 Rollup 提供更高效的交易处理。

发展路径：

1. **最初方案**：多个分片并行执行智能合约（已放弃）
2. **当前方案**：**Danksharding**，重点优化数据可用性，支持 Rollup
3. **过渡阶段**：**Proto-Danksharding（EIP-4844）**，引入 Blob 交易，降低成本

## 3. 数据可用性

数据可用性（DA）指确保链上数据完整可见，以支持 Rollup 验证交易正确性。关键技术包括：

- **数据可用性采样（DAS）**：轻节点无需存储所有数据即可验证数据可用性。
- **Blob 交易**：Danksharding 方案中的数据存储形式，大幅降低 Rollup 提交数据的成本。

## 总结

以太坊通过 **Rollup + Sharding** 结合的方式，逐步提升扩展性，为未来大规模应用奠定基础。

### 2025.03.02

## 以太坊 Gasper 机制

## 1. Gasper Recap（加斯帕尔回顾）

Gasper 是以太坊 2.0 共识机制的核心，由 **Casper FFG（Finality Gadget）** 和 **LMD-GHOST** 组成。它结合了 PoS（权益证明）机制，以确保网络的安全性和最终确定性（Finality）。

- **Casper FFG（Finality Friendly Gadget）**: 通过投票机制实现最终确定性，确保区块链不会被轻易回滚。
- **LMD-GHOST（Latest Message Driven Greediest Heaviest Observed SubTree）**: 负责短期内的区块选择，提供链的增长逻辑，使区块链始终选择具有最多累积权重的分叉。

## 2. Gasper 的问题及解决方案

Gasper 机制在运行过程中遇到了一些关键挑战：

- **网络延迟问题**：由于验证者之间的消息传输存在延迟，可能导致投票无法及时到达，影响共识效率。

  - _解决方案_：优化 P2P 网络拓扑，减少传播延迟，同时引入 Checkpoint 机制来保证最终确定性。

- **重组问题**：当多个区块几乎同时被提议时，可能导致短时间内的链重组。

  - _解决方案_：通过 LMD-GHOST 规则，选择累积投票权重最高的链，同时优化投票传播策略，提高网络同步率。

- **最终确定性滞后**：在极端情况下，Casper 可能无法及时完成最终确定，导致区块最终性延迟。
  - _解决方案_：引入 **单槽最终确定性（SSF）** 来提升最终确定性的速度。

## 3. 单槽最终确定性（SSF）

单槽最终确定性（Single Slot Finality, SSF）是对 Gasper 机制的一项改进，旨在在一个 Slot（时隙）内实现最终确定性，而不是依赖多个 Epoch（周期）。

- **原始 Gasper 机制**：最终确定性通常需要两个 Epoch（约 12.8 分钟）。
- **SSF 机制**：在一个 Slot 内完成区块的最终确定，提高交易确认速度和安全性。
- **挑战**：
  - 需要更快的网络传播速度和更高效的验证者协调机制。
  - 可能会增加网络负载，但可以通过优化区块提议和投票机制来缓解。

## 4. 如何分叉选择影响其他以太坊升级：PeerDAS 和 ePBS 案例研究

### PeerDAS（Peer Data Availability Sampling）

- **作用**：提升数据可用性（Data Availability, DA），降低 Rollup 依赖中心化数据供应商的风险。
- **影响**：如果 Gasper 机制不能高效处理 DA 方案，可能导致 L2 扩展性受限。
- **解决方案**：优化 Gasper 以支持 DA 层改进，提高网络吞吐量。

### ePBS（Enshrined Proposer-Builder Separation）

- **作用**：将区块提议者（Proposer）与构建者（Builder）角色分离，减少 MEV（最大可提取价值）对共识机制的影响。
- **影响**：Gasper 需要适配 ePBS，以保证区块提议的公平性和安全性。
- **解决方案**：调整 Gasper 规则，使其更好地支持 ePBS 提案，提高网络的去中心化程度。

## 总结

- Gasper 通过 LMD-GHOST 和 Casper FFG 结合，实现以太坊 2.0 的 PoS 共识机制。
- SSF 旨在加速最终确定性，但面临网络同步和负载问题。
- PeerDAS 和 ePBS 可能影响 Gasper 的分叉选择策略，需要适配优化以支持未来升级。

<!-- Content_END -->
